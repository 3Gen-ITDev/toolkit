/**
 * @copyright	Copyright 2010-2013, The Titon Project
 * @license		http://opensource.org/licenses/bsd-license.php
 * @link		http://titon.io
 */

@import "../common";

/**
 * Generates all the rows and grid-columns for a fluid 12 grid-column grid.
 * Uses the latest CSS3 flexbox functionality.
 *
 * @link http://css-tricks.com/using-flexbox/
 * @link http://css-tricks.com/snippets/css/a-guide-to-flexbox/
 */

.grid {
	text-align: left;
	@include grid-row;
}

.col-1,
.col-2,
.col-3,
.col-4,
.col-5,
.col-6,
.col-7,
.col-8,
.col-9,
.col-10,
.col-11,
.col-12 {
	position: relative;
	min-height: 1px;
}

@for $i from 1 through $grid-columns {
	$span: grid-span($i);

	.col-#{$i} { @include grid-column($span); }
	.push-#{$i} { left: $span; }
	.pull-#{$i} { right: $span; }
	.span-#{$i} { width: $span; }
}

.col-grow {
	-ms-flex-grow: 1;
	-moz-flex-grow: 1;
	-webkit-flex-grow: 1;
	flex-grow: 1;
}

.col-shrink {
	-ms-flex-shrink: 1;
	-moz-flex-shrink: 1;
	-webkit-flex-shrink: 1;
	flex-shrink: 1;
}

//-------------------- Modifiers --------------------//

.grid.grid--gutter {
	-ms-justify-content: space-between;
	-moz-justify-content: space-between;
	-webkit-justify-content: space-between;
	justify-content: space-between;
}

//-------------------- Responsive --------------------//

// Stack grid vertically in mobile layouts
@include if-mobile-landscape {
	.grid {
		-ms-flex-direction: column;
		-moz-flex-direction: column;
		-webkit-flex-direction: column;
		flex-direction: column;
	}

	@for $i from 1 through $grid-columns {
		.col-#{$i} { @include grid-column(100%, 1, 0); }

		// Push and pull arent necessary on mobile
		.push-#{$i} { left: auto; }
		.pull-#{$i} { right: auto; }
	}
}