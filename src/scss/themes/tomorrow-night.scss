/**
 * @copyright	Copyright 2010-2013, The Titon Project
 * @license		http://opensource.org/licenses/bsd-license.php
 * @link		http://titon.io
 */

/**
 * Based on the Tomorrow Night theme by Chris Kempson.
 * https://github.com/chriskempson/tomorrow-theme
 */

@import "../variables";
@import "../mixins";
@import "compass/css3/images";

$gray: #969896;
$blue: #81a2be;
$yellow: #f0c674;
$red: #cc6666;
$green: #b5bd68;

body {
	color: #c5c8c6;
	background: #1d1f21;
}

//-------------------- Typography --------------------//

.caret-up { border-bottom-color: #fff; }
.caret-down { border-top-color: #fff; }
.caret-left { border-right-color: #fff; }
.caret-right { border-left-color: #fff; }
.x { color: #fff; }

blockquote { border-color: $blue; }

a {
	color: $blue;
	text-decoration: none;

	&:hover { color: tint($blue, 25%); }
}

.text-muted { color: $gray; }
.text-info { color: $blue; }
.text-error { color: $red; }
.text-warning { color: $yellow; }
.text-success { color: $green; }

blockquote cite { color: $gray; }

//-------------------- Accordion --------------------//

.accordion {
	border: 1px solid white(.75);
	border-radius: 3px;
	background: #1d1f21;

	li {
		&:first-child .accordion-head {
			border-top-left-radius: 3px;
			border-top-right-radius: 3px;
		}

		&:last-child {
			.accordion-head {
				border-bottom-left-radius: 3px;
				border-bottom-right-radius: 3px;
			}

			.accordion-body {
				border: 0;
			}
		}

		&.is-active .accordion-head { color: $green; }
	}
}

.accordion-head {
	font-size: .9rem;
	font-weight: bold;
	color: $blue;
	background: #0f1214;
	border-bottom: 1px solid #282a2e;
	padding: 1rem;
	text-align: center;
	cursor: pointer;
}

.accordion-body { padding: $padding; }

//-------------------- Alert --------------------//

@mixin alert-style($color) {
	background-color: tint($color, 60%);
	border: 1px solid $color;
	color: shade($color, 65%);

	hr { border-color: $color; }

	a { color: shade($color, 75%); }
	a:hover { color: shade($color, 35%); }
}

.alert {
	text-shadow: 0 1px 0 white(.50);
	box-shadow: 0 0 3px #000;
	@include alert-style($gray);

	&.info { @include alert-style($blue); }
	&.warning { @include alert-style($yellow); }
	&.error { @include alert-style($red); }
	&.success { @include alert-style($green); }
}

//-------------------- Button --------------------//

$button-shadow: 0 1px 0 white(.5) inset, 0 0 3px #000;

@mixin button-style($color) {
	color: shade($color, 90%);
	background: $color;
	@include background-image(linear-gradient($color, shade($color, 30%)));

	@include active-state {
		background: tint($color, 30%);
		@include background-image(linear-gradient(tint($color, 30%), $color));
	}

	@include disabled-state { background: $color; }
	&:focus, &:active { background: $color; }
}

.button {
	font-weight: bold;
	text-shadow: 0 1px white(.35);
	box-shadow: $button-shadow;

	&.large, .large & { font-weight: normal; }

	@include button-style($gray);
	@include disabled-state {
		opacity: .35;
		z-index: 0;
	}

	&.info { @include button-style($blue); }
	&.warning { @include button-style($yellow); }
	&.error { @include button-style($red); }
	&.success { @include button-style($green); }
}

.button.visual-popout {
	box-shadow: $button-shadow, 0 6px 0 0 black(.25) !important;

	&:active {
		box-shadow: $button-shadow, 0 3px 0 0 black(.5) !important;
	}
}

//-------------------- ButtonGroup, Pagination --------------------//

.button-group,
.pagination.pagination--grouped ul {
	box-shadow: 0 0 3px #000;

	.button {
		box-shadow: 0 1px 0 white(0.5) inset;
		border-left: 1px solid black(.35);
		border-right: 1px solid black(.35);
	}
}

.button-group {
	li:first-child .button,
	> .button:first-child { border-left: 0; }

	li:last-child .button,
	> .button:last-child { border-right: 0; }
}

.pagination.pagination--grouped li {
	&:first-child .button { border-left: 0; }
	&:last-child .button { border-right: 0; }
}

.button-group.button-group--vertical {
	.button {
		box-shadow: none;
		border: 1px solid black(.35);
	}

	li:first-child .button,
	> .button:first-child { border-top: 0; }

	li:last-child .button,
	> .button:last-child { border-bottom: 0; }
}

.button-group.button-group--justified {
	a.button:not(:first-child) {
		border-left: 0;
	}
}

//-------------------- Label, Badge --------------------//

.label,
.badge {
	color: #000;
	box-shadow: 0 0 3px #000;
	text-shadow: 0 1px white(.35);
	background-color: $gray;

	&.info { background-color: $blue; }
	&.warning { background-color: $yellow; }
	&.error { background-color: $red; }
	&.success { background-color: $green; }
}

.label.label--left {
	&:after { border-right-color: $gray; }
	&.info:after { border-right-color: $blue; }
	&.warning:after { border-right-color: $yellow; }
	&.error:after { border-right-color: $red; }
	&.success:after { border-right-color: $green; }
}

.label.label--right {
	&:after { border-left-color: $gray; }
	&.info:after { border-left-color: $blue; }
	&.warning:after { border-left-color: $yellow; }
	&.error:after { border-left-color: $red; }
	&.success:after { border-left-color: $green; }
}

//-------------------- TypeAhead, Flyout --------------------//

.flyout,
.type-ahead {
	border: 3px solid white(.75);
	border-radius: 3px;
	background: #1d1f21;
	box-shadow: 0 0 3px #000;

	li {
		border-top: 1px solid #282a2e;

		&:first-child { border: 0; }

		a {
			color: $blue;

			.caret-right {
				float: right;
				margin-top: 3px;
			}
		}

		a:hover,
		&.is-open > a,
		&.is-active > a,
		.divider {
			background: #0f1214;
			color: #fff;
		}
	}
}

.type-ahead-desc {
	display: block;
	color: $gray;
	font-size: .7rem;
}

.type-ahead-highlight {
	color: $yellow;
}

//-------------------- Modal --------------------//

.modal {
	.close {
		top: 1.5rem;
		right: 2rem;
	}
}

.modal-inner {
	border: 10px solid white(.75);
	border-radius: 3px;
	background: #1d1f21;
	margin: 10px;
}

.modal-head,
.modal-foot,
.modal-loading,
.modal-error {
	background: #0f1214;
}

.modal-head {
	font-size: 1rem;
	font-weight: normal;
	color: $blue;
}

.modal-foot {
	text-align: center;
}

.modal-body {
	border-top: 1px solid #282a2e;
	border-bottom: 1px solid #282a2e;

	p {
		margin: 1rem 0 0 0;

		&:first-child { margin: 0; }
	}
}

//-------------------- Popover --------------------//

.popover {
	border: 3px solid white(.75);
	border-radius: 3px;
	background: #1d1f21;
	box-shadow: 0 0 3px #000;
	margin: 10px;

	.popover-head {
		font-size: 1rem;
		font-weight: bold;
		color: $blue;
		background: #0f1214;
		border-bottom: 1px solid #282a2e;
	}

	&.center-left .popover-arrow {
		right: -19px;
		border-left-color: black(.25);

		&:after {
			margin-left: -2px;
			border-left-color: white(.75);
		}
	}

	&.center-right .popover-arrow {
		left: -19px;
		border-right-color: #1d1f21;

		&:after {
			margin-left: 2px;
			border-right-color: white(.75);
		}
	}

	&.top-center .popover-arrow {
		bottom: -19px;
		border-top-color: #1d1f21;

		&:after {
			margin-top: -2px;
			border-top-color: white(.75);
		}
	}

	&.bottom-center .popover-arrow {
		top: -19px;
		border-bottom-color: #1d1f21;

		&:after {
			margin-top: 2px;
			border-bottom-color: white(.75);
		}
	}
}

//-------------------- Tooltip --------------------//

.tooltip {
	background: white(.90);
	color: #000;
	border-radius: 3px;
	margin: $margin / 2;

	.tooltip-head {
		padding-bottom: $padding / 2;
		font-weight: bold;
		font-size: 1rem;
	}

	&.top-center .tooltip-arrow { border-top-color: white(.90); }
	&.center-left .tooltip-arrow { border-left-color: white(.90); }
	&.center-right .tooltip-arrow { border-right-color: white(.90); }
	&.bottom-center .tooltip-arrow { border-bottom-color: white(.90); }
}
