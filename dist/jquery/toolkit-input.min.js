/*!
 * Titon Toolkit v1.0.0
 * Copyright 2010-2013, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";Toolkit.Input=Toolkit.Component.create(function(b,c){this.options=this.setOptions(Toolkit.Input.options,c),this.elements=this.setElement(b,this.options),this.initialize=function(){this.fireEvent("init");var b=this.options,c=Toolkit.options.vendor,d=this._buildWrapper,e=this.__change.bind(this);b.checkbox&&this.elements.find(b.checkbox).each(function(){var b=a(this);b.wrap(d(b)),a("<label/>").addClass(c+"checkbox").attr("for",b.attr("id")).insertAfter(b)}),b.radio&&this.elements.find(b.radio).each(function(){var b=a(this);b.wrap(d(b)),a("<label/>").addClass(c+"radio").attr("for",b.attr("id")).insertAfter(b)}),b.select&&this.elements.find(b.select).each(function(){var b=a(this);if(!this.multiple){var f=this[this.selectedIndex]?this[this.selectedIndex].textContent:"--",g=b.outerWidth();b.wrap(d(b)),a("<div/>").addClass(c+"select").append(a("<div/>").addClass(c+"select-arrow").html('<span class="caret-down"></span>')).append(a("<div/>").addClass(c+"select-label").text(f)).css("min-width",g).insertAfter(b),b.on("change",e)}})},this._buildWrapper=function(b){var c=a("<div/>").addClass(Toolkit.options.vendor+"custom-input"),d=(b.attr("class")||"").replace(/\binput\b/,"").trim();return d&&c.addClass(d),c},this.__change=function(b){var c=b.currentTarget;c[c.selectedIndex]&&a(c).parent().find("."+Toolkit.options.vendor+"select-label").text(c[c.selectedIndex].textContent)},this.elements.length&&this.initialize()}),Toolkit.Input.options={checkbox:"input:checkbox",radio:"input:radio",select:"select"},a.fn.input=function(b){return this.each(function(){a(this).addData("toolkit.input",function(){return new Toolkit.Input(this,b)})})}}(jQuery);