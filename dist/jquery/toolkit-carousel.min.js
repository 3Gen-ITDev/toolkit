/*!
 * Titon Toolkit v1.2.0
 * Copyright 2010-2014, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";Toolkit.Carousel=Toolkit.Component.extend(function(b,c){var d;if(this.component="Carousel",this.version="1.2.0",this.element=b=a(b),this.options=c=this.setOptions(c,b),this.itemsWrapper=b.find(c.itemsElement),this.itemsList=this.itemsWrapper.children("ul, ol"),this.items=d=this.itemsWrapper.find(c.itemElement),this.tabsWrapper=b.find(c.tabsElement),this.tabs=this.tabsWrapper.find(c.tabElement),this.nextButton=b.find(c.nextElement),this.prevButton=b.find(c.prevElement),this.index=0,this.timer=null,this.stopped=!1,this.items.length<=1)return this.tabsWrapper.hide(),this.nextButton.hide(),void this.prevButton.hide();switch(b.addClass(c.animation),c.animation){case"fade":d.item(0).reveal();break;case"slide":this.itemsList.css("width",100*d.length+"%"),d.css("width",100/d.length+"%")}this.tabs.each(function(b){a(this).data("index",b)}),this.events={"keydown window":"onKeydown","swipeleft element":"next","swipeup element":"next","swiperight element":"prev","swipdown element":"prev","click tabs":"onJump","click nextButton":"next","click prevButton":"prev"},c.stopOnHover&&(this.events["mouseenter element"]="stop",this.events["mouseleave element"]="start"),this.enable(),this.fireEvent("init"),this.reset(),this.start()},{jump:function(b){if(this.index=b=a.bound(b,this.items.length),this.tabs.length){var c=Toolkit.options.isPrefix;this.tabs.removeClass(c+"active").item(b).addClass(c+"active")}switch(this.options.animation){case"fade":this.items.removeClass("show").item(b).reveal();break;case"slide-up":this.itemsList.css("top",-(100*b)+"%");break;default:this.itemsList.css("left",-(100*b)+"%")}this.reset(),this.fireEvent("jump",b)},next:function(){this.jump(this.index+1)},prev:function(){this.jump(this.index-1)},reset:function(){this.options.autoCycle&&(clearInterval(this.timer),this.timer=setInterval(this.onCycle.bind(this),this.options.duration))},start:function(){this.element.removeClass(Toolkit.options.isPrefix+"stopped"),this.stopped=!1,this.fireEvent("start")},stop:function(){this.element.addClass(Toolkit.options.isPrefix+"stopped"),this.stopped=!0,this.fireEvent("stop")},onCycle:function(){this.stopped||(this.fireEvent("cycle",this.index),this.next())},onJump:function(b){b.preventDefault(),this.jump(a(b.target).data("index")||0)},onKeydown:function(b){if(a.inArray(b.keyCode,[37,38,39,40])>=0)switch(b.preventDefault(),b.keyCode){case 37:this.prev();break;case 38:this.jump(0);break;case 39:this.next();break;case 40:this.jump(-1)}}},{animation:"slide",duration:5e3,autoCycle:!0,stopOnHover:!0,itemsElement:".carousel-items",itemElement:"li",tabsElement:".carousel-tabs",tabElement:"a",nextElement:".carousel-next",prevElement:".carousel-prev"}),Toolkit.createComponent("carousel",function(a){return new Toolkit.Carousel(this,a)})}(jQuery);