/*!
 * Titon Toolkit v1.2.0
 * Copyright 2010-2014, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";a.Toolkit={version:"1.2.0",build:"hsrtejpu",options:{vendor:"",isPrefix:"is-",hasPrefix:"has-"},messages:{loading:"Loading...",error:"An error has occurred!"},hasTransition:function(){for(var a="transition WebkitTransition MozTransition OTransition msTransition".split(" "),b=document.createElement("div").style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1}(),isTouch:!!("ontouchstart"in a||a.DocumentTouch&&document instanceof DocumentTouch),isRetina:a.devicePixelRatio>1,createComponent:function(a,b,c){var d=a;$.fn[d]&&(d="toolkit"+d.charAt(0).toUpperCase()+d.slice(1)),$.fn[d]=c?function(){var c=b.apply(this,arguments);return this.each(function(){$(this).addData("toolkit."+a,c)})}:function(){var c=arguments;return this.each(function(){var d=this;$(this).addData("toolkit."+a,function(){return function(){return b.apply(d,c)}}())})}},Class:function(){}},Toolkit.Class.extend=function(a,b,c){return $.extend(a.prototype,this.prototype,b),a.prototype.constructor=a,a.options=$.extend(!0,{},this.options||{},c||{}),a.extend=this.extend,a},$.fn.toolkit=function(a){var b,c="toolkit."+a,d=[];return this.each(function(){(b=$(this).data(c))&&d.push(b)}),1===this.length&&d[0]?d[0]:d},$.fn.reveal=function(){return this.removeClass("hide").addClass("show")},$.fn.conceal=function(){return this.removeClass("show").addClass("hide")},$.fn.i=$.fn.item=function(a){var b=this.get(a);return b?$(b):null},$.fn.addData=function(a,b){var c=this.data(a);return c?c:("function"==typeof b&&(b=b.call(this)),this.data(a,b),b)},$.fn.positionTo=function(b,c,d,e){var f=d||{left:0,top:0},g=0,h=0,i=this.outerHeight(!0),j=this.outerWidth(!0);if(c.preventDefault)f.left+=c.pageX,f.top+=c.pageY;else{var k=c.offset(),l=b,m=$(a),n=m.width(),o=m.height(),p=m.scrollTop();f.left+=k.left,f.top+=k.top,g=c.outerHeight(),h=c.outerWidth(),k.top-i-p<0?l=l.replace("top","bottom"):k.top+g+i>o&&(l=l.replace("bottom","top")),k.left-j<0?l=l.replace("left","right"):k.left+h+j>n&&(l=l.replace("right","left")),b!==l&&(this.removeClass(b).addClass(l).data("new-position",l),b=l)}var q=b.split("-"),r={y:q[0],x:q[1]};return"top"===r.y?f.top-=i:"bottom"===r.y?f.top+=g:"center"===r.y&&(f.top-=Math.round(i/2-g/2)),"left"===r.x?f.left-=j:"right"===r.x?f.left+=h:"center"===r.x&&(f.left-=Math.round(j/2-h/2)),e&&("center"===r.y&&("left"===r.x?f.left-=15:"right"===r.x&&(f.left+=15)),"center"===r.x&&("top"===r.y?f.top-=10:"bottom"===r.y&&(f.top+=20))),this.css(f)},$.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b||150),c&&!d&&a.apply(e,f)}},$.throttle=function(a,b){var c=!1;return function(){var d=this,e=arguments;c||(c=!0,setTimeout(function(){a.apply(d,e),c=!1},b||150))}},$.expr[":"].shown=function(a){return"hidden"!==$(a).css("visibility")},$.bound=function(a,b,c){return c=c||0,a>=b?a=0:c>a&&(a=b-1),a},$.hyphenate=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},$.cookie||($.cookie=function(a,b,c){if(c=$.extend({expires:null,path:"/",domain:"",secure:!1},c),"undefined"!=typeof b){if("number"==typeof c.expires){var d=new Date;d.setTime(d.getTime()+24*c.expires*60*60*1e3),c.expires=d.toUTCString()}return document.cookie=[a+"="+encodeURIComponent(b),c.expires?"; expires="+c.expires:"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}return b=document.cookie.match("(?:^|;)\\s*"+a.replace(/[\-\.\+\*]/g,"\\$&")+"=([^;]*)"),b&&b.length?decodeURIComponent(b[1]):null},$.removeCookie=function(a,b){return b.expires=-1,$.cookie(a,"",b)}),$.event.special.clickout||($.event.special.clickout=function(){function a(a){var c=!0;b.each(function(){if(c){var b=$(this);c=!b.is(a.target)&&0===b.has(a.target).length}}),c&&b.trigger("clickout",[a.target])}var b=$([]),c=$(document);return{setup:function(){b=b.add(this),1===b.length&&c.on("click",a)},teardown:function(){b=b.not(this),0===b.length&&c.off("click",a)},add:function(a){var b=a.handler;a.handler=function(a,c){a.target=c,b.apply(this,arguments)}}}}(),$.fn.clickout=function(a,b){return arguments.length>0?this.on("clickout",null,a,b):this.trigger("clickout")}),$.event.special.swipe||($.event.special.swipe=function(){function a(a){var b=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0]:a;return{time:(new Date).getTime(),coords:[b.pageX,b.pageY]}}function b(a,b,c,d){var e,f=$.event.special.swipe,g=Math.abs,h=b.coords[0]-a.coords[0],i=b.coords[1]-a.coords[1];if(b.time-a.time<=f.duration){if(g(h)>=f.distance&&g(i)<=f.restraint)e=0>h?"left":"right";else{if(!(g(i)>=f.distance&&g(h)<=f.restraint))return;e=0>i?"up":"down"}var j={target:d,swipestart:a,swipestop:b};c.trigger($.Event("swipe",j)).trigger($.Event("swipe"+e,j))}}var c=Toolkit.isTouch,d=c?"touchstart":"mousedown",e=c?"touchmove":"mousemove",f=c?"touchend":"mouseup";return{duration:1e3,distance:50,restraint:75,setup:function(){var c,g,h=$(this);h.bind(d,function(b){c=a(b),g=b.target,"mousedown"===d&&b.preventDefault()}).bind(e,function(a){a.preventDefault()}).bind(f,function(d){b(c,a(d),h,g)})},teardown:function(){$(this).unbind(d).unbind(e).unbind(f)}}}(),$.each("swipe swipeleft swiperight swipeup swipedown".split(" "),function(a,b){$.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},"swipe"!==b&&($.event.special[b]={setup:function(){$(this).bind("swipe",$.noop)},teardown:function(){$(this).unbind("swipe")}})})),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=[].slice.call(arguments,1),d=function(){},e=function(){return b.apply(this instanceof d&&a?this:a,c.concat([].slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}(window);!function(a){"use strict";Toolkit.Component=Toolkit.Class.extend(function(){},{component:"Component",version:"1.2.0",enabled:!1,events:{},createElement:function(){var b,c=this.options;if(c.templateFrom&&(b=a(c.templateFrom)),b&&b.length||!c.template||(b=a(c.template),b.length&&b.conceal().appendTo("body")),!b)throw new Error("Failed to create template element");return c.className&&b.addClass(c.className),c.animation&&b.addClass(c.animation),b},bindEvents:function(b){var c,d,e,f,g,h=this,i=a(window),j=a(document);a.each(this.events,function(k,l){g=a.isArray(l)?l:[l],d=k.split(" "),c=d[0],e=d[1],f=d[2]||null,"."!==e.charAt(0)&&"#"!==e.charAt(0)||"clickout"===c||(f=e,e=h.options.context),h[e]&&(e=h[e]),a.each(g,function(d,g){a.isFunction(g)||(g=h[g].bind(h)),"window"===e?i[b](c,g):"document"===e?"ready"===c?j.ready(g):j[b](c,g):f?a(e||document)[b](c,f,g):a(e)[b](c,g)})})},disable:function(){this.enabled=!1,this.bindEvents("off")},enable:function(){this.enabled=!0,this.bindEvents("on")},fireEvent:function(b,c){a.isArray(c)||(c=[c]);var d="on"+b.charAt(0).toUpperCase()+b.slice(1),e=this.element;if(this.options[d]&&this.options[d].apply(this,c||[]),e&&e.length){var f=this.component;f=f.charAt(0).toLowerCase()+f.slice(1);var g=jQuery.Event(b+".toolkit."+f);g.context=this,e.trigger(g,c||[])}},inheritOptions:function(b,c){var d,e,f={};for(d in b)"context"!==d&&"template"!==d&&(e=c.data(this._class()+"-"+d.toLowerCase()),"undefined"!==a.type(e)&&(f[d]=e));return a.extend(!0,{},b,f)},process:function(a){if(this.hide(),a.callback){for(var b=a.callback.split("."),c=window,d=c,e=0;e<b.length;e++)d=c,c=c[b[e]];c.call(d,a)}this.fireEvent("process",a)},readOption:function(b,c){var d=b.data(this._class()+"-"+c.toLowerCase());return"undefined"===a.type(d)&&(d=this.options[c]),d},readValue:function(b,c){return c?(b=a(b),"function"===a.type(c)?c.call(this,b):b.attr(c)):null},requestData:function(b,c,d,e){var f=b.url||b,g=Toolkit.options.isPrefix,h=a.extend({},{url:f,type:"GET",context:this,beforeSend:c||function(){this.cache[f]=!0,this.element.addClass(g+"loading")}},b);"object"===a.type(this.options.ajax)&&(h=a.extend({},this.options.ajax,h));var i="GET"===h.type.toUpperCase();return a.ajax(h).done(d||function(a,b,c){this.element.removeClass(g+"loading"),c.getResponseHeader("Content-Type").indexOf("text/html")>=0?(i?this.cache[f]=a:delete this.cache[f],this.position(a)):(delete this.cache[f],this.process(a))}).fail(e||function(){delete this.cache[f],this.element.removeClass(g+"loading").addClass(Toolkit.options.hasPrefix+"failed"),this.position(this._errorTemplate())})},setOptions:function(b,c){var d=a.extend(!0,{},Toolkit[this.component].options,b||{});return c&&(d=this.inheritOptions(d,c)),d.mode&&"hover"===d.mode&&(d.mode=Toolkit.isTouch?"click":"mouseenter"),d},_class:function(){return a.hyphenate(this.component).slice(1)},_errorTemplate:function(){return a("<div/>").addClass(Toolkit.options.vendor+this._class()+"-error").text(Toolkit.messages.error)},_loadingTemplate:function(){return a("<div/>").addClass(Toolkit.options.vendor+this._class()+"-loading").text(Toolkit.messages.loading)}},{context:null,className:"",template:"",templateFrom:""})}(jQuery);