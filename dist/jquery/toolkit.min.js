/*!
 * Titon Toolkit v1.1.0-rc.2
 * Copyright 2010-2013, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";a.Toolkit={version:"1.1.0-rc.2",build:"hrjiyw01",options:{vendor:"",isPrefix:"is-",hasPrefix:"has-"},messages:{loading:"Loading...",error:"An error has occurred!"},hasTransition:function(){for(var a="transition WebkitTransition MozTransition OTransition msTransition".split(" "),b=document.createElement("div").style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1}(),isTouch:!!("ontouchstart"in a),createComponent:function(a,b,c){var d=a;$.fn[d]&&(d="toolkit"+d.charAt(0).toUpperCase()+d.slice(1)),$.fn[d]=c?function(){var c=b.apply(this,arguments);return this.each(function(){$(this).addData("toolkit."+a,c)})}:function(){var c=arguments;return this.each(function(){var d=this;$(this).addData("toolkit."+a,function(){return function(){return b.apply(d,c)}}())})}},Class:function(){}},Toolkit.Class.extend=function(a,b,c){return $.extend(a.prototype,this.prototype,b),a.prototype.constructor=a,a.options=c||{},a.extend=this.extend,a},$.fn.toolkit=function(a){var b,c="toolkit."+a,d=[];return this.each(function(){(b=$(this).data(c))&&d.push(b)}),1===this.length&&d[0]?d[0]:d},$.fn.reveal=function(){return this.removeClass("hide").addClass("show")},$.fn.conceal=function(){return this.removeClass("show").addClass("hide")},$.fn.i=$.fn.item=function(a){var b=this.get(a);return b?$(b):null},$.fn.addData=function(a,b){var c=this.data(a);return c?c:("function"==typeof b&&(b=b.call(this)),this.data(a,b),b)},$.event.special.clickout=function(){function a(a){var c=!0;b.each(function(){if(c){var b=$(this);c=!b.is(a.target)&&0===b.has(a.target).length}}),c&&b.trigger("clickout",[a.target])}var b=$([]),c=$(document);return{setup:function(){b=b.add(this),1===b.length&&c.on("click",a)},teardown:function(){b=b.not(this),0===b.length&&c.off("click",a)},add:function(a){var b=a.handler;a.handler=function(a,c){a.target=c,b.apply(this,arguments)}}}}(),$.fn.clickout=function(a,b){return arguments.length>0?this.on("clickout",null,a,b):this.trigger("clickout")},$.fn.positionTo=function(a,b,c,d){a=$.hyphenate(a).split("-");var e={y:a[0],x:a[1]},f=c||{left:0,top:0},g=0,h=0,i=this.outerHeight(!0),j=this.outerWidth(!0);if(b.preventDefault)f.left+=b.pageX,f.top+=b.pageY;else{var k=b.offset();f.left+=k.left,f.top+=k.top,g=b.outerHeight(),h=b.outerWidth()}return"top"===e.y?f.top-=i:"bottom"===e.y?f.top+=g:"center"===e.y&&(f.top-=Math.round(i/2-g/2)),"left"===e.x?f.left-=j:"right"===e.x?f.left+=h:"center"===e.x&&(f.left-=Math.round(j/2-h/2)),d&&("center"===e.y&&("left"===e.x?f.left-=15:"right"===e.x&&(f.left+=15)),"center"===e.x&&("top"===e.y?f.top-=10:"bottom"===e.y&&(f.top+=20))),this.css(f)},$.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b||150),c&&!d&&a.apply(e,f)}},$.throttle=function(a,b){var c=!1;return function(){var d=this,e=arguments;c||(c=!0,setTimeout(function(){a.apply(d,e),c=!1},b||150))}},$.expr[":"].shown=function(a){return"hidden"!==$(a).css("visibility")},$.hyphenate=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=[].slice.call(arguments,1),d=function(){},e=function(){return b.apply(this instanceof d&&a?this:a,c.concat([].slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}(window);!function(a){"use strict";Toolkit.Component=Toolkit.Class.extend(function(){},{component:"Component",version:"0.0.0",enabled:!0,createElement:function(){var b,c=this.options;if(c.templateFrom&&(b=a(c.templateFrom)),b&&b.length||!c.template||(b=a(c.template),b.length&&b.conceal().appendTo("body")),!b)throw new Error("Failed to create template element");return this.setElement(b)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},fireEvent:function(b,c){a.isArray(c)||(c=[c]);var d="on"+b.charAt(0).toUpperCase()+b.slice(1);if(this.options[d]&&this.options[d].apply(this,c||[]),this.element&&this.element.length){var e=this.component;e=e.charAt(0).toLowerCase()+e.slice(1);var f=jQuery.Event(b+".toolkit."+e);f.context=this,this.element.trigger(f,c||[])}},process:function(a){if(this.hide(),a.callback){for(var b=a.callback.split("."),c=window,d=c,e=0;e<b.length;e++)d=c,c=c[b[e]];c.call(d,a)}this.fireEvent("process",a)},readValue:function(b,c){return c?(b=a(b),"function"===a.type(c)?c.call(this,b):b.attr(c)):null},requestData:function(b,c,d,e){var f=b.url||b,g=a.extend({},{url:f,type:"GET",context:this,beforeSend:c||function(){this.cache[f]=!0,this.element.addClass(Toolkit.options.isPrefix+"loading")}},b);"object"===a.type(this.options.ajax)&&(g=a.extend({},this.options.ajax,g));var h="GET"===g.type.toUpperCase();return a.ajax(g).done(d||function(a,b,c){this.element.removeClass(Toolkit.options.isPrefix+"loading"),c.getResponseHeader("Content-Type").indexOf("text/html")>=0?(h?this.cache[f]=a:delete this.cache[f],this.position(a)):(delete this.cache[f],this.process(a))}).fail(e||function(){delete this.cache[f],this.element.removeClass(Toolkit.options.isPrefix+"loading").addClass(Toolkit.options.hasPrefix+"failed"),this.position(this._errorTemplate())})},setElement:function(b){var c=this.options;return c.template=!1,b=a(b),c.className&&b.addClass(c.className),c.animation&&b.addClass(c.animation),b},setOptions:function(b){var c=Toolkit,d=this.component;if(d.indexOf(".")>=0){d=d.split(".");for(var e=0;e<d.length;e++)c=c[d[e]]}else c=c[d];var f=a.extend(!0,{},c.options,b||{});return Toolkit.isTouch&&"hover"===f.mode&&(f.mode="click"),f},_errorTemplate:function(){return a("<div/>").addClass(Toolkit.options.vendor+a.hyphenate(this.component).slice(1)+"-error").text(Toolkit.messages.error)},_loadingTemplate:function(){return a("<div/>").addClass(Toolkit.options.vendor+a.hyphenate(this.component).slice(1)+"-loading").text(Toolkit.messages.loading)}})}(jQuery);