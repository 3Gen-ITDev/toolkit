/*!
 * Titon Toolkit v1.1.0-rc.1
 * Copyright 2010-2013, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";a.Toolkit={version:"1.1.0-rc.1",build:"hrbb7e4s",options:{vendor:"",isPrefix:"is-",hasPrefix:"has-"},messages:{loading:"Loading...",error:"An error has occurred!"},hasTransform:function(){for(var a="transform WebkitTransform MozTransform OTransform msTransform".split(" "),b=document.createElement("div").style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1}(),hasTransition:function(){for(var a="transition WebkitTransition MozTransition OTransition msTransition".split(" "),b=document.createElement("div").style,c=0;c<a.length;c++)if(a[c]in b)return a[c];return!1}(),isTouch:!!("ontouchstart"in a)},$.fn.toolkit=function(a){var b,c="toolkit."+a,d=[];return this.each(function(){(b=$(this).data(c))&&d.push(b)}),1===this.length&&d[0]?d[0]:d},$.fn.reveal=function(){return this.removeClass("hide").addClass("show")},$.fn.conceal=function(){return this.removeClass("show").addClass("hide")},$.fn.i=$.fn.item=function(a){var b=this.get(a);return b?$(b):null},$.fn.addData=function(a,b){var c=this.data(a);return c?c:("function"==typeof b&&(b=b.call(this)),this.data(a,b),b)},jQuery.event.special.clickout=function(){function a(a){var c=!0;b.each(function(){if(c){var b=$(this);c=!b.is(a.target)&&0===b.has(a.target).length}}),c&&b.trigger("clickout",[a.target])}var b=$([]),c=$(document);return{setup:function(){b=b.add(this),1===b.length&&c.on("click",a)},teardown:function(){b=b.not(this),0===b.length&&c.off("click",a)},add:function(a){var b=a.handler;a.handler=function(a,c){a.target=c,b.apply(this,arguments)}}}}(),$.fn.clickout=function(a,b){return arguments.length>0?this.on("clickout",null,a,b):this.trigger("clickout")},$.fn.positionTo=function(a,b,c,d){a=a.hyphenate().split("-");var e={y:a[0],x:a[1]},f=c||{left:0,top:0},g=0,h=0,i=this.outerHeight(!0),j=this.outerWidth(!0);if(b.preventDefault)f.left+=b.pageX,f.top+=b.pageY;else{var k=b.offset();f.left+=k.left,f.top+=k.top,g=b.outerHeight(),h=b.outerWidth()}return"top"===e.y?f.top-=i:"bottom"===e.y?f.top+=g:"center"===e.y&&(f.top-=Math.round(i/2-g/2)),"left"===e.x?f.left-=j:"right"===e.x?f.left+=h:"center"===e.x&&(f.left-=Math.round(j/2-h/2)),d&&("center"===e.y&&("left"===e.x?f.left-=15:"right"===e.x&&(f.left+=15)),"center"===e.x&&("top"===e.y?f.top-=10:"bottom"===e.y&&(f.top+=20))),this.css(f)},$.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b||150),c&&!d&&a.apply(e,f)}},$.throttle=function(a,b){var c=!1;return function(){var d=this,e=arguments;c||(c=!0,setTimeout(function(){a.apply(d,e),c=!1},b||150))}},$.expr[":"].shown=function(a){return"hidden"!==$(a).css("visibility")},Array.prototype.chunk||(Array.prototype.chunk=function(a){for(var b=this,c=[],d=0,e=b.length;e>d;)c.push(b.slice(d,d+=a));return c}),String.prototype.hyphenate||(String.prototype.hyphenate=function(){return this.replace(/[A-Z]/g,function(a){return"-"+a.charAt(0).toLowerCase()})}),Function.prototype.create||(Function.prototype.create=function(a){return a.prototype=$.extend({},this.prototype),a.prototype.constructor=a,a}),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=arguments.length>1?[].slice.call(arguments,1):null,d=function(){},e=function(){var f=a,g=arguments.length;this instanceof e&&(d.prototype=b.prototype,f=new d);var h=c||g?b.apply(f,c&&g?c.concat([].slice.call(arguments)):c||arguments):b.call(f);return f===a?h:f};return e})}(window);!function(a){"use strict";Toolkit.Component=function(){};var b=Toolkit.Component.prototype;b.component="Component",b.version="0.0.0",b.enabled=!0,b.createElement=function(b){var c;if(b.templateFrom&&(c=a(b.templateFrom)),c&&c.length||!b.template||(c=a(b.template),c.length&&c.conceal().appendTo("body")),!c)throw new Error("Failed to create template element");return this.setElement(c,b)},b.disable=function(){return this.enabled=!1,this},b.enable=function(){return this.enabled=!0,this},b.fireEvent=function(b,c){a.isArray(c)||(c=[c]);var d="on"+b.charAt(0).toUpperCase()+b.slice(1);if(this.options[d]&&this.options[d].apply(this,c||[]),this.element&&this.element.length){var e=jQuery.Event(b+".toolkit."+this.component.toLowerCase());e.context=this,this.element.trigger(e,c||[])}return this},b.process=function(a){if(this.hide(),a.callback){for(var b=a.callback.split("."),c=window,d=c,e=0;e<b.length;e++)d=c,c=c[b[e]];c.call(d,a)}return this.fireEvent("process",a),this},b.readValue=function(b,c){return c?(b=a(b),"function"===a.type(c)?c.call(this,b):b.attr(c)):null},b.requestData=function(b,c,d,e){var f=b.url||b,g=a.extend({},{url:f,type:"GET",context:this,beforeSend:c||function(){this.cache[f]=!0,this.element.addClass(Toolkit.options.isPrefix+"loading")}},b);"object"===a.type(this.options.ajax)&&(g=a.extend({},this.options.ajax,g));var h="GET"===g.type.toUpperCase();return a.ajax(g).done(d||function(a,b,c){this.element.removeClass(Toolkit.options.isPrefix+"loading"),c.getResponseHeader("Content-Type").indexOf("text/html")>=0?(h&&(this.cache[f]=a),this.position(a)):(delete this.cache[f],this.process(a))}).fail(e||function(){delete this.cache[f],this.element.removeClass(Toolkit.options.isPrefix+"loading").addClass(Toolkit.options.hasPrefix+"failed"),this.position(this._errorTemplate())}),this},b.setElement=function(b,c){return b=a(b),c.template=!1,c.className&&b.addClass(c.className),c.animation&&b.addClass(c.animation),b},b.setOptions=function(b,c){var d=a.extend(!0,{},b||{},c||{});return Toolkit.isTouch&&"hover"===d.mode&&(d.mode="click"),d},b._errorTemplate=function(){return a("<div/>").addClass(Toolkit.options.vendor+this.component.toLowerCase()+"-error").text(Toolkit.messages.error)},b._loadingTemplate=function(){return a("<div/>").addClass(Toolkit.options.vendor+this.component.toLowerCase()+"-loading").text(Toolkit.messages.loading)}}(jQuery);