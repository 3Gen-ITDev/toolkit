/*!
 * Titon Toolkit v1.1.0-rc.1
 * Copyright 2010-2013, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";Toolkit.Accordion=Toolkit.Component.create(function(b,c){var d,e,f;this.component="Accordion",this.version="0.0.0",this.options=c=this.setOptions(c),this.element=b=this.setElement(b),this.headers=e=this.element.find(c.headerElement),this.sections=f=this.element.find(c.contentElement),this.previousIndex=0,this.currentIndex=0,this.node=null,b.children("li").removeClass(Toolkit.options.isPrefix+"active"),e.each(function(b){a(this).data("index",b)}),f.each(function(){var b=a(this);b.data("height",b.height()).conceal()}),e.on("click"===c.mode?"click":"mouseover",this.__show.bind(this)),this.fireEvent("init"),d=e.item(e[c.defaultIndex]?c.defaultIndex:0),this.show(d)},{jump:function(a){return a>=this.headers.length?a=0:0>a&&(a=this.headers.length-1),this.fireEvent("jump",a),this.show(this.headers[a])},show:function(b){b=a(b);var c=this.options,d=b.parent(),e=b.next(c.contentElement),f=b.data("index"),g=parseInt(e.data("height"),10),h=this.node&&this.node.is(b);if("click"===c.mode&&(c.multiple||c.collapsible&&h))e.is(":shown")&&this.node?(e.css("max-height",0).conceal(),d.removeClass(Toolkit.options.isPrefix+"active")):(e.css("max-height",g).reveal(),d.addClass(Toolkit.options.isPrefix+"active"));else{if(h)return this;this.sections.css("max-height",0).conceal(),e.css("max-height",g).reveal(),this.element.children("li").removeClass(Toolkit.options.isPrefix+"active"),d.addClass(Toolkit.options.isPrefix+"active")}return this.previousIndex=this.currentIndex,this.currentIndex=f,this.node=b,this.fireEvent("show",e),this},__show:function(a){a.preventDefault(),this.show(a.currentTarget)}},{mode:"click",defaultIndex:0,multiple:!1,collapsible:!1,headerElement:".accordion-head",contentElement:".accordion-handle"}),Toolkit.createComponent("accordion",function(a){return new Toolkit.Accordion(this,a)})}(jQuery);