/*!
 * Titon Toolkit v1.1.0-rc.1
 * Copyright 2010-2013, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";Toolkit.Blackout=Toolkit.Component.create(function(a){this.component="Blackout",this.version="0.0.0",this.options=this.setOptions(Toolkit.Blackout.options,a),this.element=this.createElement(this.options),this.count=0,this.loader=null,this.message=null,this.initialize()}),Toolkit.Blackout.options={loader:"bar-wave",loaderMessage:Toolkit.messages.loading,waveCount:5,template:'<div class="'+Toolkit.options.vendor+'blackout" id="toolkit-blackout"></div>',templateFrom:"#toolkit-blackout"};var b=Toolkit.Blackout.prototype;b.initialize=function(){var b=this.options,c=Toolkit.options.vendor,d="bubble-spinner"===b.loader?8:b.waveCount;this.loader=a("<div/>").addClass(c+"loader").addClass(b.loader).appendTo(this.element);var e,f="";for(e=0;d>e;e++)f+="<span></span>";"bubble-spinner"===b.loader?a("<div/>").addClass("spinner").html(f).appendTo(this.loader):this.loader.html(f),this.message=a("<div/>").addClass(c+"loader-message").html(b.loaderMessage).appendTo(this.loader),this.fireEvent("init")},b.hide=function(){var a=this.count-1;return 0>=a?(this.count=0,this.element.conceal(),this.hideLoader()):this.count=a,this.fireEvent("hide",0>=a),this},b.hideLoader=function(){return this.loader.conceal(),this},b.show=function(){return this.count++,this.element.reveal(),this.showLoader(),this.fireEvent("show"),this},b.showLoader=function(){return this.loader.reveal(),this};var c=null;Toolkit.Blackout.factory=function(a){return c?c:c=new Toolkit.Blackout(a)}}(jQuery);