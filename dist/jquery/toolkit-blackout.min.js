/*!
 * Titon Toolkit v1.2.0
 * Copyright 2010-2014, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";Toolkit.Blackout=Toolkit.Component.extend(function(b){this.component="Blackout",this.version="1.2.0",this.options=b=this.setOptions(b),this.element=this.createElement(),this.count=0;var c,d=Toolkit.options.vendor,e="bubble-spinner"===b.loader?8:b.waveCount,f=a("<div/>").addClass(d+"loader").addClass(b.loader).appendTo(this.element),g="";for(c=0;e>c;c++)g+="<span></span>";"bubble-spinner"===b.loader?a("<div/>").addClass("spinner").html(g).appendTo(f):f.html(g),this.loader=f,this.message=a("<div/>").addClass(d+"loader-message").html(Toolkit.messages.loading).appendTo(f),this.fireEvent("init")},{hide:function(){var a=this.count-1;0>=a?(this.count=0,this.element.conceal(),this.hideLoader()):this.count=a,this.fireEvent("hide",0>=a)},hideLoader:function(){this.loader.conceal(),this.fireEvent("hideLoader")},show:function(){var a=!1;this.count++,1===this.count&&(this.element.reveal(),a=!0),this.showLoader(),this.fireEvent("show",a)},showLoader:function(){this.loader.reveal(),this.fireEvent("showLoader")}},{loader:"bar-wave",waveCount:5,template:'<div class="'+Toolkit.options.vendor+'blackout" id="toolkit-blackout"></div>',templateFrom:"#toolkit-blackout"});var b=null;Toolkit.Blackout.factory=function(a){return b?b:b=new Toolkit.Blackout(a)}}(jQuery);