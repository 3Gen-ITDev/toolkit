/*!
 * Titon Toolkit v1.1.0-rc.1
 * Copyright 2010-2013, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(a){"use strict";Toolkit.Mask=Toolkit.Component.create(function(b,c){this.component="Mask",this.version="0.0.0",this.options=this.setOptions(c),this.element=b=this.setElement(b),this.mask=null,this.message=null;var d=Toolkit.options.vendor,e=d+"mask";b.is("body")||(b.addClass(d+"maskable"),"static"===b.css("position")&&b.css("position","relative"));var f=b.find("> ."+e);f.length||(f=a("<div/>").addClass(e)),this.setMask(f),this.fireEvent("init")},{hide:function(){return this.mask.conceal(),this.element.removeClass(Toolkit.options.isPrefix+"masked"),this.fireEvent("hide"),this},setMask:function(b){var c=this.options;return b.addClass("hide").appendTo(this.element),this.element.is("body")&&b.css("position","fixed"),c.revealOnClick&&b.click(this.hide.bind(this)),this.mask=b,this.message=b.find("> "+c.messageElement),this.message.length||(this.message=a("<div/>").addClass(c.messageElement.substr(1)).appendTo(b),c.messageContent&&this.message.html(c.messageContent)),this},show:function(a){return this.enabled?(this.node=a,this.mask.reveal(),this.element.addClass(Toolkit.options.isPrefix+"masked"),this.fireEvent("show"),this):this},toggle:function(){return this.mask.is(":shown")?this.hide():this.show()}},{revealOnClick:!1,messageContent:"",messageElement:".mask-message"}),Toolkit.createComponent("mask",function(a){return new Toolkit.Mask(this,a)})}(jQuery);