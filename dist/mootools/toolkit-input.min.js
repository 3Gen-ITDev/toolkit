/*!
 * Titon Toolkit v1.0.5
 * Copyright 2010-2013, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(){"use strict";Toolkit.Input=new Class({Extends:Toolkit.Component,Binds:["__change"],options:{checkbox:'input[type="checkbox"]',radio:'input[type="radio"]',select:"select"},initialize:function(a,b){this.parent(b),this.setElement(a),this.element&&(this.bindEvents(),this.fireEvent("init"))},bindEvents:function(){var a=this.options,b=Toolkit.options.vendor,c=this._buildWrapper,d=this.__change;return a.checkbox&&this.element.getElements(a.checkbox).each(function(a){c(a).wraps(a),new Element("label."+b+"checkbox").setProperty("for",a.get("id")).inject(a,"after")}),a.radio&&this.element.getElements(a.radio).each(function(a){c(a).wraps(a),new Element("label."+b+"radio").setProperty("for",a.get("id")).inject(a,"after")}),a.select&&this.element.getElements(a.select).each(function(a){if(!a.multiple){var e=a[a.selectedIndex]?a[a.selectedIndex].textContent:"--",f=a.getWidth();c(a).wraps(a),new Element("div."+b+"select").grab(new Element("div."+b+"select-arrow").set("html",'<span class="caret-down"></span>')).grab(new Element("div."+b+"select-label").set("text",e)).setStyle("min-width",f).inject(a,"after"),a.addEvent("change",d)}}),this},_buildWrapper:function(a){var b=new Element("div."+Toolkit.options.vendor+"custom-input"),c=(a.get("class")||"").replace(/\binput\b/,"").trim();return c&&b.addClass(c),b},__change:function(a){var b=a.target;b[b.selectedIndex]&&b.getParent().getElement("."+Toolkit.options.vendor+"select-label").set("text",b[b.selectedIndex].textContent)}}),Element.implement("input",function(a){return this.$input||(this.$input=new Toolkit.Input(this,a)),this})}();