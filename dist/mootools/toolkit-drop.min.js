/*!
 * Titon Toolkit v1.2.2
 * Copyright 2010-2014, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(){"use strict";Toolkit.Drop=new Class({Extends:Toolkit.Component,options:{delegate:".js-drop",getTarget:"data-drop",hideOpened:!0},initialize:function(a,b){this.parent(b),this.nodes=a;var c={},d=this.options.delegate,e=d;["down","up","left","right"].each(function(a){e+=",."+Toolkit.options.vendor+"drop--"+a}),c["clickout "+e]="hide",c[this.options.mode+" "+d]="onShow",this.events=c,this.enable(),this.fireEvent("init")},hide:function(){return this.parent(function(){this.node.removeClass(Toolkit.options.isPrefix+"active")}.bind(this))},show:function(a){return this.parent(a),this.node.addClass(Toolkit.options.isPrefix+"active"),this},onShow:function(a,b){"domevent"===typeOf(a)&&a.preventDefault();var c=this.readValue(b,this.options.getTarget);c&&"#"===c.substr(0,1)&&(this.options.hideOpened&&this.node&&this.node!==b&&this.hide(),this.element=document.id(c.slice(1)),this.node=b,this.isVisible()?this.hide():this.show(b))}}),Toolkit.createComponent("drop",function(a){return new Toolkit.Drop(this,a)},!0)}();