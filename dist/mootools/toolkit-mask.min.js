/*!
 * Titon Toolkit v1.1.0-rc.1
 * Copyright 2010-2013, The Titon Project - http://titon.io
 * BSD-2 - https://github.com/titon/toolkit/blob/master/license.md
 */
!function(){"use strict";Toolkit.Mask=new Class({Extends:Toolkit.Component,mask:null,message:null,options:{revealOnClick:!1,messageContent:"",messageElement:".mask-message"},initialize:function(a,b){this.parent(b),this.setElement(a);var c=Toolkit.options.vendor,d="."+c+"mask";a!==document.body&&(a.addClass(c+"maskable"),"static"===a.getStyle("position")&&a.setStyle("position","relative")),this.setMask(a.getElement("> "+d)||new Element("div"+d)),this.fireEvent("init")},hide:function(){return this.mask.conceal(),this.element.removeClass(Toolkit.options.isPrefix+"masked"),this.fireEvent("hide"),this},setMask:function(a){var b=this.options;return a.addClass("hide").inject(this.element,"bottom"),this.element===document.body&&a.setStyle("position","fixed"),b.revealOnClick&&a.addEvent("click",this.__hide),this.mask=a,this.message=a.getElement("> "+b.messageElement),this.message||(this.message=new Element("div"+b.messageElement).inject(a,"bottom"),b.messageContent&&this.message.set("html",b.messageContent)),this},show:function(a){return this.enabled?(this.node=a,this.mask.reveal(),this.element.addClass(Toolkit.options.isPrefix+"masked"),this.fireEvent("show"),this):this},toggle:function(){return this.mask.isShown()?this.hide():this.show()}}),Toolkit.createComponent("mask",function(a){return new Toolkit.Mask(this,a)})}();